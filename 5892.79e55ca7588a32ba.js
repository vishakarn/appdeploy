"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5892],{25892:(x,d,r)=>{r.r(d),r.d(d,{OtpConfirmationPageModule:()=>O});var l=r(60177),a=r(89417),s=r(64654),m=r(7901),g=r(10467),h=(r(63284),r(45157),r(79683),r(31824)),t=r(17705),f=r(40172);function u(i,p){if(1&i){const n=t.RV6();t.j41(0,"div",14)(1,"span",15),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.sendOTP())}),t.EFF(2,"Send OTP"),t.k0s(),t.j41(3,"span",16),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.cancel())}),t.EFF(4,"Cancel"),t.k0s()()}}function b(i,p){if(1&i&&(t.j41(0,"span",22),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2);t.R7$(1),t.SpI(" ",n.timerString," ")}}function v(i,p){if(1&i){const n=t.RV6();t.j41(0,"span",23),t.bIt("click",function(){t.eBV(n);const e=t.XpG(2);return t.Njj(e.resend())}),t.EFF(1,"Resend"),t.k0s()}}function C(i,p){if(1&i){const n=t.RV6();t.j41(0,"div")(1,"h5",8),t.EFF(2,"OTP"),t.k0s(),t.j41(3,"div")(4,"ion-row")(5,"ion-col",17)(6,"ion-item",10)(7,"ion-input",18),t.bIt("ngModelChange",function(e){t.eBV(n);const c=t.XpG();return t.Njj(c.otpGet=e)}),t.k0s()()(),t.j41(8,"ion-col",19),t.DNE(9,b,2,1,"span",20),t.nrm(10,"br"),t.DNE(11,v,2,0,"span",21),t.k0s()()(),t.j41(12,"p",8),t.EFF(13,"OTP is shared on below Registered contact details "),t.nrm(14,"br"),t.j41(15,"span"),t.EFF(16),t.k0s()(),t.j41(17,"div",14)(18,"span",15),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.goToSuccessTransfer())}),t.EFF(19,"Approve"),t.k0s(),t.j41(20,"span",16),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.cancel())}),t.EFF(21,"Cancel"),t.k0s()()()}if(2&i){const n=t.XpG();t.R7$(7),t.Y8G("ngModel",n.otpGet),t.R7$(2),t.Y8G("ngIf",n.timerHideShow),t.R7$(2),t.Y8G("ngIf",!n.timerHideShow),t.R7$(5),t.JRh(n.userDetails.user.mobileNo)}}const P=[{path:"",component:(()=>{class i{constructor(n,o,e,c){this.navCtrl=n,this.appData=o,this.toastCtrl=e,this.apiFactory=c,this.timerOn=!0,this.isShown=!1,this.isShownn=!1,this.otpsendHide=!0,this.timerHideShow=!1,this.timerString="",this.pointsGet="",this.otpGet="",this.transferMobNo="",this.baseUrl=o.BASE_URL,this.userDetails=JSON.parse(localStorage.getItem("currentUser")),this.newIdData=localStorage.getItem("dataGet"),this.pointsGet=localStorage.getItem("totalPoints")}ngOnInit(){}timer(n){let o=Math.floor(n/60),e=n%60;this.m=o<10?"0"+o:o,this.s=e<10?"0"+e:e,this.timerString=o+":"+e,(n-=1)>=0?setTimeout(()=>{this.timer(n)},1e3):this.timerHideShow=!1}resend(){this.apiFactory.smartMilesSendOTP(this.submit_data).subscribe(n=>{this.dema=n,500==this.dema.code?this.toast():(this.timerHideShow=!0,this.timer(59))},n=>{})}goToSuccessTransfer(){this.timer(0),localStorage.setItem("transferMobNo",this.transferMobNo),this.apiFactory.smartMilesVerifyOtp("&id="+this.newIdData+"&transfer_mobile_number="+this.transferMobNo+"&secret_key="+this.dema.secret_key+"&otp="+this.otpGet).subscribe(n=>{},n=>{}),this.navCtrl.navigateForward("points-success-msg")}sendOTP(){this.submit_data={id:this.newIdData,transfer_mobile_number:this.transferMobNo},this.apiFactory.smartMilesSendOTP(this.submit_data).subscribe(n=>{this.dema=n,500==this.dema.code?this.toast():(this.otpsendHide=!1,this.timerHideShow=!0,this.isShown=!0,this.timer(59))},n=>{})}toast(){var n=this;return(0,g.A)(function*(){yield(yield n.toastCtrl.create({message:n.dema.message,duration:4e3,position:"bottom"})).present()})()}cancel(){this.navCtrl.navigateForward("point-transfer")}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(s.q9),t.rXU(f.a),t.rXU(s.K_),t.rXU(h.nQ))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-otp-confirmation"]],decls:30,vars:4,consts:[["mode","md",1,"h50","bg-cl"],["slot","start"],[1,"head"],[1,"firDiv","ion-margin-bottom","ion-text-center"],[1,"firPara"],[1,"firSpan"],["src","../../assets/otp-confirmation.png",1,"image-set"],[1,"secDiv","ion-margin-bottom"],[1,"ion-text-center"],[1,"listDiv"],[2,"--background","#f1f5f8"],["placeholder","Enter phone number","type","number","maxlength","10",3,"ngModel","ngModelChange"],["class","btn-style",4,"ngIf"],[4,"ngIf"],[1,"btn-style"],[1,"first-btn",3,"click"],[1,"sec-btn",3,"click"],["size","9"],["type","tel",3,"ngModel","ngModelChange"],["size","3",2,"padding","10px"],["id","timer",4,"ngIf"],["class","ion-text-center",3,"click",4,"ngIf"],["id","timer"],[1,"ion-text-center",3,"click"]],template:function(o,e){1&o&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t.nrm(3,"ion-back-button"),t.k0s(),t.j41(4,"div",2),t.EFF(5,"OTP Confirmation"),t.k0s()()(),t.j41(6,"ion-content")(7,"div",3)(8,"p",4),t.EFF(9,"Enter OTP to Confirm "),t.nrm(10,"br"),t.j41(11,"span",5),t.EFF(12,"Points you are Transfering"),t.k0s(),t.nrm(13,"br"),t.j41(14,"span",5),t.EFF(15),t.k0s()(),t.j41(16,"div"),t.nrm(17,"ion-img",6),t.k0s()(),t.j41(18,"div",7)(19,"p",8),t.EFF(20,"Please enter other customer registered no. "),t.nrm(21,"br"),t.EFF(22," to whom you wants transfer"),t.k0s(),t.j41(23,"div",9)(24,"div")(25,"ion-item",10)(26,"ion-input",11),t.bIt("ngModelChange",function(M){return e.transferMobNo=M}),t.k0s()()(),t.DNE(27,u,5,0,"div",12),t.k0s(),t.nrm(28,"div"),t.DNE(29,C,22,4,"div",13),t.k0s()()),2&o&&(t.R7$(15),t.SpI("",e.pointsGet," Points"),t.R7$(11),t.Y8G("ngModel",e.transferMobNo),t.R7$(1),t.Y8G("ngIf",e.otpsendHide),t.R7$(2),t.Y8G("ngIf",e.isShown))},dependencies:[l.bT,a.BC,a.tU,a.vS,s.el,s.QW,s.hU,s.W9,s.eU,s.KW,s.$w,s.uz,s.ln,s.ai,s.su,s.Gw,s.tY],styles:["ion-content[_ngcontent-%COMP%]{--background: rgba(128, 128, 128, .733);height:100vh}.firDiv[_ngcontent-%COMP%]{--background: rgba(128, 128, 128, .733);height:40vh;padding:4px 10px 20px}.image-set[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}.secDiv[_ngcontent-%COMP%]{background:#f1f5f8;min-height:60vh;padding:4px 10px 20px;border-radius:28px 28px 0 0}.firPara[_ngcontent-%COMP%]{color:#fff;margin-top:80px}.firSpan[_ngcontent-%COMP%]{font-size:small;font-weight:500}.secDivv[_ngcontent-%COMP%]{background:#dfdada;margin-left:auto;margin-right:auto;width:150px;height:30px;padding-top:2px;padding-bottom:5px}ion-input[_ngcontent-%COMP%]{padding-bottom:5px!important}.main-div[_ngcontent-%COMP%]{display:flex}.thirdDiv[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.btn-style[_ngcontent-%COMP%]{text-align:center;padding:20px}.first-btn[_ngcontent-%COMP%]{margin-right:10px;padding:10px 15px;border-radius:10px;background-color:var(--iconsAndButtonsColor)}.sec-btn[_ngcontent-%COMP%]{background:#ed3237;color:#fff;margin-left:10px;padding:10px 15px;border-radius:10px}.secDiv.ion-margin-bottom[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-color: black;--highlight-color-invalid: none;--highlight-color-valid: none}"]})}}return i})()}];let _=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(P),m.iI]})}}return i})(),O=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[l.MD,a.YN,s.bv,_]})}}return i})()}}]);