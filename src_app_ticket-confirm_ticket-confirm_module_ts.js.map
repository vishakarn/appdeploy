{"version":3,"file":"src_app_ticket-confirm_ticket-confirm_module_ts.js","mappings":"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","sources":["./src/app/ticket-confirm/ticket-confirm-routing.module.ts","./src/app/ticket-confirm/ticket-confirm.module.ts","./src/app/ticket-confirm/ticket-confirm.page.ts","./src/app/ticket-confirm/ticket-confirm.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TicketConfirmPage } from './ticket-confirm.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TicketConfirmPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TicketConfirmPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TicketConfirmPageRoutingModule } from './ticket-confirm-routing.module';\n\nimport { TicketConfirmPage } from './ticket-confirm.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TicketConfirmPageRoutingModule\n  ],\n  declarations: [TicketConfirmPage]\n})\nexport class TicketConfirmPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NavigationExtras } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { ApiFactory, CommonStorage } from '../services';\nimport { GlobalDataService } from '../services/global-data.service';\n\n@Component({\n  selector: 'app-ticket-confirm',\n  templateUrl: './ticket-confirm.page.html',\n  styleUrls: ['./ticket-confirm.page.scss'],\n})\nexport class TicketConfirmPage implements OnInit {\n  urlGet: any;\n  pnrNum: any;\n  getData: any;\n  pnrNumber: any;\n  splitPnr: any;\n  ticketDetailsnew: any;\n  viewTicket:boolean = false;\n  failurePopop:boolean = false;\n  ticketstatus: any;\n  is_round_trip = false;\n  roundTrip = false;\n  constructor(private apiFactory: ApiFactory,private navCtrl:NavController,public globalData: GlobalDataService,public commonStorage: CommonStorage,) { \n    this.urlGet = window.location.href;   \n     // this.urlGet = \"https://www.btb-qa2.ticketsimply.co.in/m/#/ticket-confirm?pnr_number=471668&is_native_app=true&status=0&is_round_trip=false\";\n\n    this.pnrNum = this.urlGet.split('?')[1];\n    this.getData = this.pnrNum.split('&');\n    let obj:any = [];\n    for(let i=0;i<this.getData.length;i++){\n      let[firname,secname] = this.getData[i].split('=');\n      obj[firname]=secname;\n    }\n    this.pnrNumber = obj.pnr_number.split('_');\n    this.is_round_trip = obj.is_round_trip.split('_');\n    // console.log('splitingRoundTrip',this.is_round_trip)\n    if(!this.pnrNumber[1]){\n      this.splitPnr = this.pnrNumber[0]\n    }else{\n      this.splitPnr = this.pnrNumber[1]\n    }\n    if(!this.is_round_trip[1]){\n      this.roundTrip = this.is_round_trip[0]\n    }else{\n      this.roundTrip = this.is_round_trip[1]\n    }\n\n    // console.log(\"splitPnr\",this.splitPnr, this.roundTrip);\n\n    this.apiFactory.getTicketDetails(this.splitPnr)\n    .subscribe(\n  result => {\n    this.ticketstatus = result.ticket_status;\n    if(this.ticketstatus != 'Pending'){\n      this.viewTicket = true;\n      this.failurePopop = false;\n      this.ticketDetailsnew = result;\n        this.viewTicketPage();\n    }\n\n  },\n)\n  err => {\n  }\n  }\n\n  ngOnInit() {\n  }\n\n  viewTicketPage(){\n    if(this.roundTrip === true){\n      let bookingDetails : any = {\"round_trip_number\":this.splitPnr};\n      this.commonStorage.localSet('bookedTicketDetails', JSON.stringify(bookingDetails));\n      localStorage.setItem('bookingDetails', this.commonStorage.localGet('bookedTicketDetails'));\n      // console.log(bookingDetails,\"bookingDetailsGoToTicketDetailsPage---------\")\n      let navigationExtras: NavigationExtras = {\n          queryParams: {\n              new_booking: true,\n              is_roundTrip: true,\n              hideLocateTrackBus: true\n          }\n      };\n      this.navCtrl.navigateRoot('booking-details', navigationExtras)\n    }else{\n      // console.log('singleTrip')\n      localStorage.setItem('bookingDetails', JSON.stringify( this.ticketDetailsnew));\n      let navigationExtras: NavigationExtras = {\n          queryParams: {\n              new_booking: true,\n              is_roundTrip: false,\n              hideLocateTrackBus: true\n          }\n      };\n      \n      this.navCtrl.navigateRoot('booking-details', navigationExtras);\n\n    }\n    \n\n  }\n\n  clearReturnJourney() {\n    this.globalData.DEPARTURE_DATE_RETURN = {};\n    this.commonStorage.setItem('travelDateReturn', {});\n    // this.modalController.dismiss({});\n}\n\n  goToHome(){\n    this.navCtrl.navigateRoot('tabs/home')\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.search-txt {\n  font-size: 14px;\n  font-weight: bold;\n  width: 61px;\n  text-transform: capitalize;\n  text-align: center;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/ticket-confirm/ticket-confirm.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,eAAA;EACA,iBAAA;EACA,WAAA;EACA,0BAAA;EACA,kBAAA;AACJ\",\"sourcesContent\":[\".search-txt {\\n    font-size: 14px;\\n    font-weight: bold;\\n    width: 61px;\\n    text-transform: capitalize;\\n    text-align: center;\\n  }\\n  \"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","TicketConfirmPage","routes","path","component","TicketConfirmPageRoutingModule","__decorate","imports","forChild","exports","CommonModule","FormsModule","IonicModule","TicketConfirmPageModule","declarations","Component","NavController","ApiFactory","CommonStorage","GlobalDataService","constructor","apiFactory","navCtrl","globalData","commonStorage","viewTicket","failurePopop","is_round_trip","roundTrip","urlGet","window","location","href","pnrNum","split","getData","obj","i","length","firname","secname","pnrNumber","pnr_number","splitPnr","getTicketDetails","subscribe","result","ticketstatus","ticket_status","ticketDetailsnew","viewTicketPage","err","ngOnInit","bookingDetails","localSet","JSON","stringify","localStorage","setItem","localGet","navigationExtras","queryParams","new_booking","is_roundTrip","hideLocateTrackBus","navigateRoot","clearReturnJourney","DEPARTURE_DATE_RETURN","goToHome","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}