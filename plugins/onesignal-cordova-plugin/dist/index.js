cordova.define("onesignal-cordova-plugin.OneSignalPlugin", function(require, exports, module) { "use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});function a(o,s){const e=o.indexOf(s);e!==-1&&o.splice(e,1)}const i=()=>{};function p(o){if(!(typeof o=="object"&&o!==null&&!Array.isArray(o)))return!1;try{return JSON.stringify(o),!0}catch{return!1}}var r=(o=>(o[o.None=0]="None",o[o.Fatal=1]="Fatal",o[o.Error=2]="Error",o[o.Warn=3]="Warn",o[o.Info=4]="Info",o[o.Debug=5]="Debug",o[o.Verbose=6]="Verbose",o))(r||{});class w{setLogLevel(s){window.cordova.exec(i,i,"OneSignalPush","setLogLevel",[s])}setAlertLevel(s){window.cordova.exec(i,i,"OneSignalPush","setAlertLevel",[s])}}class P{constructor(){this._inAppMessageClickListeners=[],this._willDisplayInAppMessageListeners=[],this._didDisplayInAppMessageListeners=[],this._willDismissInAppMessageListeners=[],this._didDismissInAppMessageListeners=[]}_processFunctionList(s,e){for(let n=0;n<s.length;n++)s[n](e)}addEventListener(s,e){if(s==="click"){this._inAppMessageClickListeners.push(e);const n=t=>{this._processFunctionList(this._inAppMessageClickListeners,t)};window.cordova.exec(n,i,"OneSignalPush","setInAppMessageClickHandler",[])}else if(s==="willDisplay"){this._willDisplayInAppMessageListeners.push(e);const n=t=>{this._processFunctionList(this._willDisplayInAppMessageListeners,t)};window.cordova.exec(n,i,"OneSignalPush","setOnWillDisplayInAppMessageHandler",[])}else if(s==="didDisplay"){this._didDisplayInAppMessageListeners.push(e);const n=t=>{this._processFunctionList(this._didDisplayInAppMessageListeners,t)};window.cordova.exec(n,i,"OneSignalPush","setOnDidDisplayInAppMessageHandler",[])}else if(s==="willDismiss"){this._willDismissInAppMessageListeners.push(e);const n=t=>{this._processFunctionList(this._willDismissInAppMessageListeners,t)};window.cordova.exec(n,i,"OneSignalPush","setOnWillDismissInAppMessageHandler",[])}else if(s==="didDismiss"){this._didDismissInAppMessageListeners.push(e);const n=t=>{this._processFunctionList(this._didDismissInAppMessageListeners,t)};window.cordova.exec(n,i,"OneSignalPush","setOnDidDismissInAppMessageHandler",[])}}removeEventListener(s,e){s==="click"?a(this._inAppMessageClickListeners,e):s==="willDisplay"?a(this._willDisplayInAppMessageListeners,e):s==="didDisplay"?a(this._didDisplayInAppMessageListeners,e):s==="willDismiss"?a(this._willDismissInAppMessageListeners,e):s==="didDismiss"&&a(this._didDismissInAppMessageListeners,e)}addTrigger(s,e){const n={[s]:e};this.addTriggers(n)}addTriggers(s){Object.keys(s).forEach(function(e){typeof s[e]!="string"&&(s[e]=JSON.stringify(s[e]))}),window.cordova.exec(i,i,"OneSignalPush","addTriggers",[s])}removeTrigger(s){this.removeTriggers([s])}removeTriggers(s){Array.isArray(s)||console.error("OneSignal: removeTriggers: argument must be of type Array"),window.cordova.exec(i,i,"OneSignalPush","removeTriggers",[s])}clearTriggers(){window.cordova.exec(i,i,"OneSignalPush","clearTriggers")}setPaused(s){window.cordova.exec(i,i,"OneSignalPush","setPaused",[s])}getPaused(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","isPaused",[])})}}class f{enter(s,e,n,t){n==null&&(n=i),t==null&&(t=i),window.cordova.exec(n,t,"OneSignalPush","enterLiveActivity",[s,e])}exit(s,e,n){e==null&&(e=i),n==null&&(n=i),window.cordova.exec(e,n,"OneSignalPush","exitLiveActivity",[s])}setPushToStartToken(s,e){window.cordova.exec(i,i,"OneSignalPush","setPushToStartToken",[s,e])}removePushToStartToken(s){window.cordova.exec(i,i,"OneSignalPush","removePushToStartToken",[s])}setupDefault(s){window.cordova.exec(i,i,"OneSignalPush","setupDefaultLiveActivity",[s])}startDefault(s,e,n){window.cordova.exec(i,i,"OneSignalPush","startDefaultLiveActivity",[s,e,n])}}class m{requestPermission(){window.cordova.exec(i,i,"OneSignalPush","requestLocationPermission",[])}setShared(s){window.cordova.exec(i,i,"OneSignalPush","setLocationShared",[s])}isShared(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","isLocationShared",[])})}}class l{constructor(s){this.notificationId=s.notificationId,this.body=s.body,this.title=s.title,this.additionalData=s.additionalData,typeof s.rawPayload=="string"?this.rawPayload=JSON.parse(s.rawPayload):this.rawPayload=s.rawPayload,this.launchURL=s.launchURL,this.sound=s.sound,s.actionButtons&&(this.actionButtons=s.actionButtons),s.groupKey&&(this.groupKey=s.groupKey),s.ledColor&&(this.ledColor=s.ledColor),typeof s.priority<"u"&&(this.priority=s.priority),s.smallIcon&&(this.smallIcon=s.smallIcon),s.largeIcon&&(this.largeIcon=s.largeIcon),s.bigPicture&&(this.bigPicture=s.bigPicture),s.collapseId&&(this.collapseId=s.collapseId),s.groupMessage&&(this.groupMessage=s.groupMessage),s.fromProjectNumber&&(this.fromProjectNumber=s.fromProjectNumber),s.smallIconAccentColor&&(this.smallIconAccentColor=s.smallIconAccentColor),s.lockScreenVisibility&&(this.lockScreenVisibility=s.lockScreenVisibility),s.androidNotificationId&&(this.androidNotificationId=s.androidNotificationId),s.groupedNotifications&&s.groupedNotifications.length&&(this.groupedNotifications=s.groupedNotifications),s.badge&&(this.badge=s.badge),s.category&&(this.category=s.category),s.threadId&&(this.threadId=s.threadId),s.subtitle&&(this.subtitle=s.subtitle),s.templateId&&(this.templateId=s.templateId),s.attachments&&(this.attachments=s.attachments),s.templateName&&(this.templateName=s.templateName),s.mutableContent&&(this.mutableContent=s.mutableContent),s.badgeIncrement&&(this.badgeIncrement=s.badgeIncrement),s.contentAvailable&&(this.contentAvailable=s.contentAvailable),s.relevanceScore&&(this.relevanceScore=s.relevanceScore),s.interruptionLevel&&(this.interruptionLevel=s.interruptionLevel)}display(){window.cordova.exec(i,i,"OneSignalPush","displayNotification",[this.notificationId])}}class c{constructor(s){this.notification=new l(s)}preventDefault(s=!1){window.cordova.exec(i,i,"OneSignalPush","preventDefault",[this.notification.notificationId,s])}getNotification(){return this.notification}}var d=(o=>(o[o.NotDetermined=0]="NotDetermined",o[o.Denied=1]="Denied",o[o.Authorized=2]="Authorized",o[o.Provisional=3]="Provisional",o[o.Ephemeral=4]="Ephemeral",o))(d||{});class O{constructor(){this._permissionObserverList=[],this._notificationClickedListeners=[],this._notificationWillDisplayListeners=[]}_processFunctionList(s,e){for(let n=0;n<s.length;n++)s[n](e)}_setPropertyAndObserver(){const s=e=>{this._permission=e};window.cordova.exec(s,i,"OneSignalPush","getPermissionInternal"),this.addEventListener("permissionChange",e=>{this._permission=e})}hasPermission(){return this._permission||!1}getPermissionAsync(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","getPermissionInternal")})}permissionNative(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","permissionNative",[])})}requestPermission(s){let e=s??!1;return new Promise((n,t)=>{window.cordova.exec(n,t,"OneSignalPush","requestPermission",[e])})}canRequestPermission(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","canRequestPermission",[])})}registerForProvisionalAuthorization(s=i){window.cordova.exec(s,i,"OneSignalPush","registerForProvisionalAuthorization",[])}addEventListener(s,e){if(s==="click"){this._notificationClickedListeners.push(e);const n=t=>{this._processFunctionList(this._notificationClickedListeners,t)};window.cordova.exec(n,i,"OneSignalPush","addNotificationClickListener",[])}else if(s==="foregroundWillDisplay"){this._notificationWillDisplayListeners.push(e);const n=t=>{this._notificationWillDisplayListeners.forEach(g=>{g(new c(t))}),window.cordova.exec(i,i,"OneSignalPush","proceedWithWillDisplay",[t.notificationId])};window.cordova.exec(n,i,"OneSignalPush","addForegroundLifecycleListener",[])}else if(s==="permissionChange"){this._permissionObserverList.push(e);const n=t=>{this._processFunctionList(this._permissionObserverList,t)};window.cordova.exec(n,i,"OneSignalPush","addPermissionObserver",[])}}removeEventListener(s,e){s==="click"?a(this._notificationClickedListeners,e):s==="foregroundWillDisplay"?a(this._notificationWillDisplayListeners,e):s==="permissionChange"&&a(this._permissionObserverList,e)}clearAll(){window.cordova.exec(i,i,"OneSignalPush","clearAllNotifications",[])}removeNotification(s){window.cordova.exec(i,i,"OneSignalPush","removeNotification",[s])}removeGroupedNotifications(s){window.cordova.exec(i,i,"OneSignalPush","removeGroupedNotifications",[s])}}class S{addOutcome(s){window.cordova.exec(i,i,"OneSignalPush","addOutcome",[s])}addUniqueOutcome(s){window.cordova.exec(i,i,"OneSignalPush","addUniqueOutcome",[s])}addOutcomeWithValue(s,e){window.cordova.exec(i,i,"OneSignalPush","addOutcomeWithValue",[s,e])}}class b{constructor(){this._subscriptionObserverList=[]}_processFunctionList(s,e){for(let n=0;n<s.length;n++)s[n](e)}_setPropertiesAndObserver(){const s=t=>{this._id=t};window.cordova.exec(s,i,"OneSignalPush","getPushSubscriptionId");const e=t=>{this._token=t};window.cordova.exec(e,i,"OneSignalPush","getPushSubscriptionToken");const n=t=>{this._optedIn=t};window.cordova.exec(n,i,"OneSignalPush","getPushSubscriptionOptedIn"),this.addEventListener("change",t=>{this._id=t.current.id,this._token=t.current.token,this._optedIn=t.current.optedIn})}get id(){return console.warn("OneSignal: This method has been deprecated. Use getIdAsync instead for getting push subscription id."),this._id}get token(){return console.warn("OneSignal: This method has been deprecated. Use getTokenAsync instead for getting push subscription token."),this._token}get optedIn(){return console.warn("OneSignal: This method has been deprecated. Use getOptedInAsync instead for getting push subscription opted in status."),this._optedIn||!1}getIdAsync(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","getPushSubscriptionId")})}getTokenAsync(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","getPushSubscriptionToken")})}getOptedInAsync(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","getPushSubscriptionOptedIn")})}addEventListener(s,e){this._subscriptionObserverList.push(e);const n=t=>{this._processFunctionList(this._subscriptionObserverList,t)};window.cordova.exec(n,i,"OneSignalPush","addPushSubscriptionObserver",[])}removeEventListener(s,e){a(this._subscriptionObserverList,e)}optIn(){window.cordova.exec(i,i,"OneSignalPush","optInPushSubscription")}optOut(){window.cordova.exec(i,i,"OneSignalPush","optOutPushSubscription")}}class I{constructor(){this.pushSubscription=new b,this._userStateObserverList=[]}_processFunctionList(s,e){for(let n=0;n<s.length;n++)s[n](e)}setLanguage(s){window.cordova.exec(i,i,"OneSignalPush","setLanguage",[s])}addAlias(s,e){const n={[s]:e};window.cordova.exec(i,i,"OneSignalPush","addAliases",[n])}addAliases(s){window.cordova.exec(i,i,"OneSignalPush","addAliases",[s])}removeAlias(s){window.cordova.exec(i,i,"OneSignalPush","removeAliases",[s])}removeAliases(s){window.cordova.exec(i,i,"OneSignalPush","removeAliases",s)}addEmail(s){window.cordova.exec(i,i,"OneSignalPush","addEmail",[s])}removeEmail(s){window.cordova.exec(i,i,"OneSignalPush","removeEmail",[s])}addSms(s){window.cordova.exec(i,i,"OneSignalPush","addSms",[s])}removeSms(s){window.cordova.exec(i,i,"OneSignalPush","removeSms",[s])}addTag(s,e){const n={[s]:e};window.cordova.exec(i,i,"OneSignalPush","addTags",[n])}addTags(s){const e=s;Object.keys(s).forEach(function(n){typeof e[n]!="string"&&(e[n]=JSON.stringify(e[n]))}),window.cordova.exec(i,i,"OneSignalPush","addTags",[e])}removeTag(s){window.cordova.exec(i,i,"OneSignalPush","removeTags",[s])}removeTags(s){window.cordova.exec(i,i,"OneSignalPush","removeTags",s)}getTags(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","getTags",[])})}addEventListener(s,e){this._userStateObserverList.push(e);const n=t=>{this._processFunctionList(this._userStateObserverList,t)};window.cordova.exec(n,i,"OneSignalPush","addUserStateObserver",[])}removeEventListener(s,e){a(this._userStateObserverList,e)}getOnesignalId(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","getOnesignalId",[])})}getExternalId(){return new Promise((s,e)=>{window.cordova.exec(s,e,"OneSignalPush","getExternalId",[])})}trackEvent(s,e){if(e!==void 0&&!p(e)){console.error("Properties must be a JSON-serializable object");return}const n=e?[s,e]:[s];window.cordova.exec(i,i,"OneSignalPush","trackEvent",n)}}class u{constructor(){this.User=new I,this.Debug=new w,this.Session=new S,this.Location=new m,this.InAppMessages=new P,this.Notifications=new O,this.LiveActivities=new f,this._appID=""}initialize(s){this._appID=s;const e=()=>{this.User.pushSubscription._setPropertiesAndObserver(),this.Notifications._setPropertyAndObserver()};window.cordova.exec(e,i,"OneSignalPush","init",[this._appID])}login(s){window.cordova.exec(i,i,"OneSignalPush","login",[s])}logout(){window.cordova.exec(i,i,"OneSignalPush","logout")}setConsentRequired(s){window.cordova.exec(i,i,"OneSignalPush","setPrivacyConsentRequired",[s])}setConsentGiven(s){window.cordova.exec(i,i,"OneSignalPush","setPrivacyConsentGiven",[s])}}const h=new u;window.plugins||(window.plugins={});window.plugins.OneSignal||(window.plugins.OneSignal=h);exports.LogLevel=r;exports.NotificationWillDisplayEvent=c;exports.OSNotification=l;exports.OSNotificationPermission=d;exports.OneSignalPlugin=u;exports.default=h;

});
