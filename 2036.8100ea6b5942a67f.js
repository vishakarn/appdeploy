"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2036],{42036:(C,l,o)=>{o.r(l),o.d(l,{TicketConfirmPageModule:()=>v});var u=o(60177),m=o(89417),r=o(64654),h=o(7901),g=o(31824),t=o(17705),p=o(7516);function f(e,b){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"ion-icon",3),t.k0s(),t.j41(4,"p",4),t.EFF(5,"Your ticket is Confirm."),t.k0s(),t.j41(6,"div",5)(7,"ion-button",6),t.bIt("click",function(){t.eBV(i);const s=t.XpG();return t.Njj(s.goToHome())}),t.j41(8,"p",7),t.EFF(9,"Okay "),t.k0s(),t.nrm(10,"p"),t.k0s()()(),t.bVm()}}function k(e,b){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"ion-icon",3),t.k0s(),t.j41(4,"p",4),t.EFF(5,"Note: Your ticket is in Pending.Please check after sometime."),t.k0s(),t.j41(6,"div",5)(7,"ion-button",6),t.bIt("click",function(){t.eBV(i);const s=t.XpG();return t.Njj(s.goToHome())}),t.j41(8,"p",7),t.EFF(9,"Okay "),t.k0s(),t.nrm(10,"p"),t.k0s()()(),t.bVm()}}const d=[{path:"",component:(()=>{class e{constructor(i,n,s,P){this.apiFactory=i,this.navCtrl=n,this.globalData=s,this.commonStorage=P,this.viewTicket=!1,this.failurePopop=!1,this.is_round_trip=!1,this.roundTrip=!1,this.bookTicket=!1,this.urlGet=window.location.href,console.log("urlGet -> Payment Confirm",this.urlGet),this.pnrNum=this.urlGet.split("?")[1],this.getData=this.pnrNum.split("&");let a=[];for(let c=0;c<this.getData.length;c++){let[D,_]=this.getData[c].split("=");a[D]=_}this.pnrNumber=a.pnr_number.split("_"),this.is_round_trip=a.is_round_trip.split("_"),this.splitPnr=this.pnrNumber[1]?this.pnrNumber[1]:this.pnrNumber[0],this.is_round_trip[1]?(console.log("is_round_trip",this.is_round_trip[1]),this.roundTrip=this.is_round_trip[1]):(console.log("is_round_trip",this.is_round_trip[0]),this.roundTrip=this.is_round_trip[0]),this.loadTicketDetails()}ngOnInit(){}loadTicketDetails(){this.splitPnr?this.apiFactory.getTicketDetails(this.splitPnr).subscribe(i=>{this.ticketstatus=i.ticket_status,"Pending"!==this.ticketstatus&&(this.ticketDetailsnew=i,this.viewTicket=!0,this.failurePopop=!1,this.viewTicketPage())},i=>{console.error("Error fetching ticket details",i),this.bookTicket=!0}):this.bookTicket=!0}viewTicketPage(){if("true"===String(this.roundTrip)||1==this.roundTrip){console.log("roundTrip");let i={round_trip_number:this.splitPnr};this.commonStorage.localSet("bookedTicketDetails",JSON.stringify(i)),localStorage.setItem("bookingDetails",this.commonStorage.localGet("bookedTicketDetails")),console.log(i,"bookingDetailsGoToTicketDetailsPage---------"),this.navCtrl.navigateRoot("booking-details",{queryParams:{new_booking:!0,is_roundTrip:!0,hideLocateTrackBus:!0}})}else console.log("singleTrip"),localStorage.setItem("bookingDetails",JSON.stringify(this.ticketDetailsnew)),this.navCtrl.navigateRoot("booking-details",{queryParams:{new_booking:!0,is_roundTrip:!1,hideLocateTrackBus:!0}})}clearReturnJourney(){this.globalData.DEPARTURE_DATE_RETURN={},this.commonStorage.setItem("travelDateReturn",{})}goToHome(){this.navCtrl.navigateRoot("tabs/home")}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(g.nQ),t.rXU(r.q9),t.rXU(p.N),t.rXU(g.PD))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-ticket-confirm"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"margin-top","50%"],[2,"font-size","35px","display","flex","align-items","center","justify-content","center"],["src","././assets/icon/UnconfirmedEmoji.svg"],[2,"text-align","center","font-size","16px"],[2,"display","flex","align-items","center","justify-content","center"],["mode","md",1,"search-btn",2,"--background","var(--iconsAndButtonsColor)","--color","var(--primaryText)",3,"click"],[1,"search-txt"]],template:function(n,s){1&n&&(t.j41(0,"ion-content"),t.DNE(1,f,11,0,"ng-container",0),t.DNE(2,k,11,0,"ng-container",0),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngIf",s.bookTicket),t.R7$(1),t.Y8G("ngIf","Pending"==s.ticketstatus))},dependencies:[u.bT,r.Jm,r.W9,r.iq],styles:[".search-txt[_ngcontent-%COMP%]{font-size:14px;font-weight:700;width:61px;text-transform:capitalize;text-align:center}"]})}}return e})()}];let T=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(d),h.iI]})}}return e})(),v=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[u.MD,m.YN,r.bv,T]})}}return e})()}}]);