"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4156],{84156:(T,p,a)=>{a.r(p),a.d(p,{OtpConfirmationPageModule:()=>O});var g=a(96814),r=a(56223),s=a(23536),l=a(75187),h=a(15861),m=(a(7234),a(82440),a(32653),a(74612)),t=a(65879),f=a(51559);function u(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",14)(1,"span",15),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.sendOTP())}),t._uU(2,"Send OTP"),t.qZA(),t.TgZ(3,"span",16),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.cancel())}),t._uU(4,"Cancel"),t.qZA()()}}function _(i,d){if(1&i&&(t.TgZ(0,"span",22),t._uU(1),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.timerString," ")}}function v(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"span",23),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.resend())}),t._uU(1,"Resend"),t.qZA()}}function C(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div")(1,"h5",8),t._uU(2,"OTP"),t.qZA(),t.TgZ(3,"div")(4,"ion-row")(5,"ion-col",17)(6,"ion-item",10)(7,"ion-input",18),t.NdJ("ngModelChange",function(e){t.CHM(n);const c=t.oxw();return t.KtG(c.otpGet=e)}),t.qZA()()(),t.TgZ(8,"ion-col",19),t.YNc(9,_,2,1,"span",20),t._UZ(10,"br"),t.YNc(11,v,2,0,"span",21),t.qZA()()(),t.TgZ(12,"p",8),t._uU(13,"OTP is shared on below Registered contact details "),t._UZ(14,"br"),t.TgZ(15,"span"),t._uU(16),t.qZA()(),t.TgZ(17,"div",14)(18,"span",15),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.goToSuccessTransfer())}),t._uU(19,"Approve"),t.qZA(),t.TgZ(20,"span",16),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.cancel())}),t._uU(21,"Cancel"),t.qZA()()()}if(2&i){const n=t.oxw();t.xp6(7),t.Q6J("ngModel",n.otpGet),t.xp6(2),t.Q6J("ngIf",n.timerHideShow),t.xp6(2),t.Q6J("ngIf",!n.timerHideShow),t.xp6(5),t.Oqu(n.userDetails.user.mobileNo)}}const x=[{path:"",component:(()=>{class i{constructor(n,o,e,c){this.navCtrl=n,this.appData=o,this.toastCtrl=e,this.apiFactory=c,this.timerOn=!0,this.isShown=!1,this.isShownn=!1,this.otpsendHide=!0,this.timerHideShow=!1,this.timerString="",this.pointsGet="",this.otpGet="",this.transferMobNo="",this.baseUrl=o.BASE_URL,this.userDetails=JSON.parse(localStorage.getItem("currentUser")),this.newIdData=localStorage.getItem("dataGet"),this.pointsGet=localStorage.getItem("totalPoints")}ngOnInit(){}timer(n){let o=Math.floor(n/60),e=n%60;this.m=o<10?"0"+o:o,this.s=e<10?"0"+e:e,this.timerString=o+":"+e,(n-=1)>=0?setTimeout(()=>{this.timer(n)},1e3):this.timerHideShow=!1}resend(){this.apiFactory.smartMilesSendOTP(this.submit_data).subscribe(n=>{this.dema=n,500==this.dema.code?this.toast():(this.timerHideShow=!0,this.timer(59))},n=>{})}goToSuccessTransfer(){this.timer(0),localStorage.setItem("transferMobNo",this.transferMobNo),this.apiFactory.smartMilesVerifyOtp("&id="+this.newIdData+"&transfer_mobile_number="+this.transferMobNo+"&secret_key="+this.dema.secret_key+"&otp="+this.otpGet).subscribe(n=>{},n=>{}),this.navCtrl.navigateForward("points-success-msg")}sendOTP(){this.submit_data={id:this.newIdData,transfer_mobile_number:this.transferMobNo},this.apiFactory.smartMilesSendOTP(this.submit_data).subscribe(n=>{this.dema=n,500==this.dema.code?this.toast():(this.otpsendHide=!1,this.timerHideShow=!0,this.isShown=!0,this.timer(59))},n=>{})}toast(){var n=this;return(0,h.Z)(function*(){yield(yield n.toastCtrl.create({message:n.dema.message,duration:4e3,position:"bottom"})).present()})()}cancel(){this.navCtrl.navigateForward("point-transfer")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(s.SH),t.Y36(f.Y),t.Y36(s.yF),t.Y36(m.he))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-otp-confirmation"]],decls:30,vars:4,consts:[["mode","md",1,"h50","bg-cl"],["slot","start"],[1,"head"],[1,"firDiv","ion-margin-bottom","ion-text-center"],[1,"firPara"],[1,"firSpan"],["src","../../assets/otp-confirmation.png",1,"image-set"],[1,"secDiv","ion-margin-bottom"],[1,"ion-text-center"],[1,"listDiv"],[2,"--background","#f1f5f8"],["placeholder","Enter phone number","type","number","maxlength","10",3,"ngModel","ngModelChange"],["class","btn-style",4,"ngIf"],[4,"ngIf"],[1,"btn-style"],[1,"first-btn",3,"click"],[1,"sec-btn",3,"click"],["size","9"],["type","tel",3,"ngModel","ngModelChange"],["size","3",2,"padding","10px"],["id","timer",4,"ngIf"],["class","ion-text-center",3,"click",4,"ngIf"],["id","timer"],[1,"ion-text-center",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"div",2),t._uU(5,"OTP Confirmation"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"div",3)(8,"p",4),t._uU(9,"Enter OTP to Confirm "),t._UZ(10,"br"),t.TgZ(11,"span",5),t._uU(12,"Points you are Transfering"),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"span",5),t._uU(15),t.qZA()(),t.TgZ(16,"div"),t._UZ(17,"ion-img",6),t.qZA()(),t.TgZ(18,"div",7)(19,"p",8),t._uU(20,"Please enter other customer registered no. "),t._UZ(21,"br"),t._uU(22," to whom you wants transfer"),t.qZA(),t.TgZ(23,"div",9)(24,"div")(25,"ion-item",10)(26,"ion-input",11),t.NdJ("ngModelChange",function(P){return e.transferMobNo=P}),t.qZA()()(),t.YNc(27,u,5,0,"div",12),t.qZA(),t._UZ(28,"div"),t.YNc(29,C,22,4,"div",13),t.qZA()()),2&o&&(t.xp6(15),t.hij("",e.pointsGet," Points"),t.xp6(11),t.Q6J("ngModel",e.transferMobNo),t.xp6(1),t.Q6J("ngIf",e.otpsendHide),t.xp6(2),t.Q6J("ngIf",e.isShown))},dependencies:[g.O5,r.JJ,r.nD,r.On,s.oU,s.Sm,s.wI,s.W2,s.Gu,s.Xz,s.pK,s.Ie,s.Nd,s.sr,s.as,s.j9,s.cs],styles:["ion-content[_ngcontent-%COMP%]{--background: rgba(128, 128, 128, .733);height:100vh}.firDiv[_ngcontent-%COMP%]{--background: rgba(128, 128, 128, .733);height:40vh;padding:4px 10px 20px}.image-set[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}.secDiv[_ngcontent-%COMP%]{background:#f1f5f8;min-height:60vh;padding:4px 10px 20px;border-radius:28px 28px 0 0}.firPara[_ngcontent-%COMP%]{color:#fff;margin-top:80px}.firSpan[_ngcontent-%COMP%]{font-size:small;font-weight:500}.secDivv[_ngcontent-%COMP%]{background:#dfdada;margin-left:auto;margin-right:auto;width:150px;height:30px;padding-top:2px;padding-bottom:5px}ion-input[_ngcontent-%COMP%]{padding-bottom:5px!important}.main-div[_ngcontent-%COMP%]{display:flex}.thirdDiv[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.btn-style[_ngcontent-%COMP%]{text-align:center;padding:20px}.first-btn[_ngcontent-%COMP%]{margin-right:10px;padding:10px 15px;border-radius:10px;background-color:var(--iconsAndButtonsColor)}.sec-btn[_ngcontent-%COMP%]{background:#ed3237;color:#fff;margin-left:10px;padding:10px 15px;border-radius:10px}.secDiv.ion-margin-bottom[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-color: black;--highlight-color-invalid: none;--highlight-color-valid: none}"]})}return i})()}];let b=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#n=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(x),l.Bz]})}return i})(),O=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#n=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[g.ez,r.u5,s.Pc,b]})}return i})()}}]);